{% extends "base.html" %}

{% block styles %}
<style>
    /* CSS classes voor de status labels */
    .tag-green  { background-color: #d4edda; color: #155724; }
    .tag-blue   { background-color: #cff4fc; color: #055160; }
    .tag-red    { background-color: #f8d7da; color: #842029; }
    .tag-yellow { background-color: #fff3cd; color: #856404; }
    
    .user-status-tag {
        padding: 5px 10px;
        border-radius: 15px;
        font-weight: 500;
        font-size: 0.9rem;
        display: inline-block;
    }
</style>
{% endblock %}

{% block content %}
<div class="users-container">
    
    <div class="users-header">
        <h1 style="color: #007B7F; margin:0;">üìû Reizigers Contactlijst</h1>
        <a href="{{ url_for('organizer_dashboard') }}" style="color: #007B7F; text-decoration: none; font-weight: bold;">‚Üê Terug naar Dashboard</a>
    </div>

    <div class="users-card">
        
        <table class="users-table">
            <thead>
                <tr style="border-bottom: 2px solid #007B7F; background: #e0f7fa;">
                    <th>Naam</th>
                    <th>E-mail</th>
                    <th>Leeftijd</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for user_info in users %}
                <tr>
                    <td class="user-name">{{ user_info.user.name }}</td>
                    <td class="user-email"><a href="mailto:{{ user_info.user.email }}">{{ user_info.user.email }}</a></td>
                    <td>{{ user_info.profile.age if user_info.profile else 'N/A' }}</td>
                    <td>
                        {# 1. Bepaal welke class we moeten gebruiken #}
                        {% set tag_class = 'tag-yellow' %}
                        
                        {% if 'Bevestigd' in user_info.status %}
                            {% set tag_class = 'tag-green' %}
                        {% elif 'Actief' in user_info.status %}
                            {% set tag_class = 'tag-blue' %}
                        {% elif 'Inactief' in user_info.status %}
                            {% set tag_class = 'tag-red' %}
                        {% endif %}

                        {# 2. Gebruik de class in de HTML (Geen style attribuut meer!) #}
                        <span class="user-status-tag {{ tag_class }}">
                            {{ user_info.status }}
                        </span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}