{% extends "base.html" %}

{% block content %}
<div class="auth-container">

    <div class="auth-card" style="max-width: 450px;">
        
        <h1>Maak Account</h1>
        <p>Kies eerst je rol:</p>

        <form action="{{ url_for('register') }}" method="post" style="display: flex; flex-direction: column; gap: 20px;">
            
            <div class="role-selector">
                
                <label>
                    <input type="radio" name="role" value="traveller" checked style="display: none;" onchange="updateRoleUI(this)">
                    <div class="role-card active" id="card-traveller">
                        <div>ðŸŽ’</div>
                        <div>Reiziger</div>
                    </div>
                </label>

                <label>
                    <input type="radio" name="role" value="organizer" style="display: none;" onchange="updateRoleUI(this)">
                    <div class="role-card" id="card-organizer">
                        <div>ðŸ‘”</div>
                        <div>Organisator</div>
                    </div>
                </label>
            </div>

            <div class="auth-input-group">
                <label id="nameLabel">Naam</label>
                <input type="text" name="name" required placeholder="Jouw naam" class="auth-input">
            </div>

            <div class="auth-input-group">
                <label>E-mailadres</label>
                <input type="email" name="email" required placeholder="naam@email.com" class="auth-input">
            </div>

            <button type="submit" class="auth-submit-btn">
                Account aanmaken
            </button>
        </form>

        <div class="auth-footer">
            Al geregistreerd? <a href="{{ url_for('login') }}">Log hier in</a>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initial call om de UI correct te zetten bij laden
        updateRoleUI(document.querySelector('input[name="role"]:checked'));
    });

    function updateRoleUI(radio) {
        const cardTraveller = document.getElementById('card-traveller');
        const cardOrganizer = document.getElementById('card-organizer');
        const nameLabel = document.getElementById('nameLabel');

        // Reset classes
        cardTraveller.classList.remove('active');
        cardOrganizer.classList.remove('active');
        
        // Apply active class and update label
        if (radio.value === 'traveller') {
            cardTraveller.classList.add('active');
            nameLabel.innerText = "Naam";
        } else {
            cardOrganizer.classList.add('active');
            nameLabel.innerText = "Naam Organisatie";
        }
    }
</script>
{% endblock %}